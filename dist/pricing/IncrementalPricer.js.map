{"version":3,"file":"IncrementalPricer.js","sourceRoot":"","sources":["../../src/pricing/IncrementalPricer.ts"],"names":[],"mappings":";;;AAEA,gDAAyE;AACzE,2DAA6E;AAE7E,gBAAgB;AAChB,MAAM,2CAA2C,GAAG,KAAK,CAAA;AACzD,MAAM,4CAA4C,GAAG,CAAC,CAAA,CAAC,iCAAiC;AACxF,MAAM,8CAA8C,GAAG,KAAK,CAAA;AAE5D,MAAM,oBAAoB,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAA;AAC5C,MAAM,sBAAsB,GAAG,GAAG,CAAA;AAClC,MAAM,yBAAyB,GAAG,KAAK,CAAA,CAAC,oDAAoD;AAE5F,SAAS,uBAAuB,CAC9B,YAAoB,EACpB,YAAoB,EACpB,WAAW,GAAG,yBAAyB;IAEvC,IAAI,YAAY,KAAK,CAAC;QAAE,OAAO,YAAY,KAAK,CAAC,CAAA;IACjD,MAAM,IAAI,GAAG,YAAY,GAAG,YAAY,CAAA;IACxC,OAAO,IAAI,GAAG,WAAW,IAAI,IAAI,GAAG,CAAC,GAAG,WAAW,CAAA;AACrD,CAAC;AAED,MAAM,SAAS;IACb,OAAO,CAAS;IAChB,MAAM,CAAQ;IACd,KAAK,CAAQ;IACb,MAAM,CAAuB;IAC7B,QAAQ,GAAgB,EAAE,CAAA;IAC1B,SAAS,CAAS;IAClB,SAAS,CAAQ;IACjB,WAAW,CAAsB;IACjC,aAAa,CAAqB;IAClC,eAAe,GAAG,CAAC,CAAA;IACnB,gBAAgB,CAAS;IAEzB,YACE,KAAa,EACb,SAAkB,EAClB,SAAiB,EACjB,MAAkB,EAClB,WAAqB,EACrB,aAAsB;QAEtB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;QAClB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,OAAkB,CAAA;QACvC,IAAI,CAAC,MAAM,GAAG,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAA;QAClC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAA;QAC1B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAA;QAC1B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QACpB,IAAI,MAAM;YAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QACtC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAA;QAC9B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAA;IACpC,CAAC;CACF;AAED,uGAAuG;AACvG,MAAa,iBAAiB;IACnB,UAAU,CAAa,CAAC,gBAAgB;IACxC,eAAe,CAAU,CAAC,uBAAuB;IACjD,YAAY,CAAQ,CAAC,uDAAuD;IAE5E,YAAY,GAA2B,IAAI,GAAG,EAAE,CAAA,CAAC,+BAA+B;IAChF,QAAQ,GAA4B,IAAI,GAAG,EAAE,CAAA,CAAC,6BAA6B;IACpF,MAAM,GAA2B,EAAE,CAAA,CAAC,mDAAmD;IACvF,UAAU,GAAG,CAAC,CAAA,CAAC,kCAAkC;IAEjD,wBAAwB,GAAG,CAAC,CAAA;IAC5B,oBAAoB,GAAG,KAAK,CAAA;IAE5B,YAAY,UAAmB,EAAE,MAAgB,EAAE,YAAoB;QACrE,IAAI,CAAC,UAAU,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAA;QAC9C,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,KAAK,EAAE,CAAA;QACrC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC1B,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,SAAS,CAAC,CAAW,EAAE,IAAI,EAAE,CAAC,CAAC,CAAA;QAC1D,CAAC,CAAC,CAAA;QACF,IAAI,CAAC,YAAY,GAAG,YAAY,CAAA;IAClC,CAAC;IAED,YAAY,CACV,YAAqB,EACrB,gBAA+B,EAC/B,OAAO,GAAG,KAAK;QAEf,IAAI,IAAI,CAAC,wBAAwB,EAAE;YACjC,OAAO,IAAI,CAAC,wBAAwB,CAAC,gBAAgB,EAAE,EAAE,OAAO,CAAC,CAAA;aAC9D;YACH,MAAM,GAAG,GAAG,IAAI,CAAC,qBAAqB,CACpC,YAAY,EACZ,8CAA8C,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CACjE,CAAA;YACD,IAAI,8CAA8C,EAAE;gBAClD,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CACpC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CACvB,CAAA;gBACd,aAAa,CACX,SAAS,EACT,SAAS,EACT,8CAA8C,CAC/C,CAAA;gBACD,MAAM,WAAW,GAAG,IAAA,iCAAsB,EACxC,gBAAgB,EAAE,EAClB,SAAS,CAAC,KAAK,EACf,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,MAAM,CACrC,CAAA;gBACD,aAAa,CACX,oBAAoB,EACpB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,UAAU,EACf,WAAW,CACZ,CAAA;gBACD,sCAAsC;gBACtC,0BAA0B;gBAC1B,iBAAiB;gBACjB,iBAAiB;gBACjB,IAAI;gBACJ,cAAc;gBACd,qCAAqC;gBACrC,YAAY;gBACZ,8BAA8B;gBAC9B,IAAI;aACL;YACD,OAAO,GAAG,CAAA;SACX;IACH,CAAC;IAED,SAAS,CAAC,KAAc;QACtB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;QACjC,IAAI,EAAE,KAAK,SAAS;YAAE,OAAO,CAAC,qBAAqB,CAAC,CAAA;QACpD,MAAM,KAAK,GAAa,EAAE,CAAA;QAC1B,OAAO,EAAE,KAAK,SAAS,EAAE;YACvB,MAAM,YAAY,GAAG,EAAE,CAAC,MAAM,EAAE,MAAM,IAAI,EAAE,CAAC,MAAM,CAAA;YACnD,KAAK,CAAC,IAAI,CACR,SAAS,EAAE,CAAC,KAAK,CAAC,MAAM,KAAK,EAAE,CAAC,OAAO,cACrC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CACxB,GAAG,CACJ,CAAA;YACD,IAAI,EAAE,CAAC,WAAW,KAAK,SAAS,EAAE;gBAChC,KAAK,CAAC,IAAI,CACR,QAAQ,EAAE,CAAC,WAAW,cAAc,IAAI,CAAC,KAAK,CAC5C,EAAE,CAAC,aAAa,IAAI,CAAC,CACtB,WAAW,CAAC,EAAE,CAAC,SAAS,GAAG,YAAY,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CACxD,CAAA;aACF;YACD,EAAE,GAAG,EAAE,CAAC,MAAM,CAAA;SACf;QACD,OAAO,KAAK,CAAC,OAAO,EAAE,CAAA;IACxB,CAAC;IAED,wBAAwB;QACtB,OAAO,CACL,IAAI,CAAC,oBAAoB;YACzB,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,wBAAwB,GAAG,oBAAoB,CAClE,CAAA;IACH,CAAC;IAEO,wBAAwB,CAAC,KAAc,EAAE,OAAO,GAAG,KAAK;QAC9D,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAA;QACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAA;QACrB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAA;QAChB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAA;QAEnB,MAAM,SAAS,GAAG,IAAA,sCAAkB,EAClC,KAAK,EACL,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CACtC,CAAA;QACD,MAAM,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAA;QACtD,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,SAAS;gBAAE,OAAM,CAAC,8BAA8B;YAEtF,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAc,CAAA;YACzD,MAAM,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAW,CAAA;YAEhE,MAAM,SAAS,GAAe,EAAE,CAAA;YAChC,IAAI,OAAO;gBACT,OAAO,CAAC,GAAG,CACT,0BAA0B,QAAQ,CAAC,KAAK,CAAC,MAAM,UAAU,cAAc,EAAE,CAC1E,CAAA;YACH,QAAQ,CAAC,GAAG,GAAG,SAAS,CAAA;YACxB,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,QAAQ,EAAE,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAA;YAEvE,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,MAAM,QAAQ,GAAG,SAAS,CAAC,GAAG,EAAc,CAAA;gBAC5C,IAAI,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAA;gBAC3B,IAAI,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAA;gBACzB,IAAI,SAAS,GAAG,IAAI,CAAA;gBACpB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;oBAC3B,IAAI,KAAK,CAAC,KAAK,KAAK,SAAS;wBAAE,SAAQ,CAAC,uBAAuB;oBAC/D,MAAM,GAAG,GAAG,KAAK,CAAA;oBACjB,KAAK,GAAG,GAAG,CAAA;oBACX,GAAG,GAAG,GAAG,CAAA;oBACT,SAAS,GAAG,KAAK,CAAA;iBAClB;gBACD,MAAM,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,SAAS,CAAC,CAAA;gBAC9D,IAAI,OAAO;oBACT,OAAO,CAAC,GAAG,CACT,oBAAoB,GAAG,CAAC,KAAK,CAAC,MAAM,UAClC,CAAC,GAAG,GAAG,CAAC,MAAM,GAAI,KAAK,CAAC,KAC1B,EAAE;wBACA,SAAS,KAAK,CAAC,KAAK,CAAC,MAAM,SAAS,QAAQ,CAAC,IAAI,CAAC,OAAO,cAAc,QAAQ,CAAC,aAAa,EAAE,CAClG,CAAA;gBACH,GAAG,CAAC,GAAG,GAAG,IAAI,SAAS,CACrB,GAAG,CAAC,KAAK,EACT,SAAS,EACT,CAAC,EACD,KAAK,CAAC,GAAgB,EACtB,QAAQ,CAAC,IAAI,CAAC,OAAO,EACrB,QAAQ,CAAC,aAAa,CACvB,CAAA;gBACD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,GAAgB,CAAC,CAAA;gBACrE,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,GAAI,KAAK,CAAC,KAAgB,CAAC,CAAA;gBAC7D,eAAe;gBACf,wEAAwE;gBACxE,+CAA+C;gBAC/C,4CAA4C;gBAC5C,IAAI;aACL;YAED,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAA;YACrC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;YAC1C,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAA;YAEjC,IAAI,2CAA2C,IAAI,CAAC,KAAK,CAAC,EAAE;gBAC1D,MAAM,WAAW,GAAG,IAAA,iCAAsB,EACxC,KAAK,EACL,SAAS,CAAC,KAAK,EACf,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,MAAM,CACrC,CAAA;gBACD,aAAa,CACX,oBAAoB,EACpB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,UAAU,EACf,WAAW,CACZ,CAAA;aACF;QACH,CAAC,CAAC,CAAA;QAEF,IAAI,4CAA4C,EAAE;YAChD,MAAM,YAAY,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,CAAA;YACvC,MAAM,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAA;YACxC,MAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CACnB,CAAC,KAAK,CAAC,MAAM,GAAG,4CAA4C,CAAC,GAAG,GAAG,CACpE,CAAA;YACD,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;YACnC,MAAM,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAA,CAAC,mDAAmD;YAClH,aAAa,CAAC,YAAY,EAAE,CAAC,EAAE,wBAAwB,CAAC,CAAA;YACxD,UAAU,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAA;YAC7C,aAAa,CAAC,YAAY,EAAE,YAAY,EAAE,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;YACxE,IAAI,CAAC,MAAM,GAAG,YAAY,CAAA;YAC1B,IAAI,CAAC,UAAU,GAAG,gBAAgB,CAAA;SACnC;QAED,OAAO,IAAI,CAAC,UAAU,CAAA;IACxB,CAAC;IAED,sCAAsC;IAC9B,cAAc,CACpB,SAAoC;QAEpC,MAAM,GAAG,GAAG,SAAS;aAClB,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACZ,IAAI,CAAC,KAAK,SAAS;gBAAE,OAAM;YAC3B,MAAM,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAW,CAAA;YAC/C,MAAM,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAC5B,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAC1C,CAAC,CACF,CAAA;YACD,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,MAAgB,CAAA;YACnD,OAAO,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAGzC,CAAA;QACH,CAAC,CAAC;aACD,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,SAAS,CAAoC,CAAA;QACpE,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IACzD,CAAC;IAEO,qBAAqB,CAAC,KAAgB;QAC5C,IAAI,KAAK,GAAG,CAAC,CAAA;QACb,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;YACjD,KAAK,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAc,CAAC,CAAA;QACrE,KAAK,CAAC,eAAe,GAAG,KAAK,CAAA;QAC7B,OAAO,KAAK,GAAG,CAAC,CAAA;IAClB,CAAC;IAEO,WAAW,CAAC,SAAqB,EAAE,CAAY,EAAE,KAAa;QACpE,CAAC,CAAC,KAAK,GAAG,KAAK,CAAA;QACf,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,GAAgB,CAAC,CAAA;QAChD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,MAAM,CAAA;QACzC,EAAE,IAAI,CAAC,UAAU,CAAA;QACjB,gCAAgC;QAChC,wBAAwB;QACxB,wBAAwB;QACxB,0BAA0B;QAC1B,yFAAyF;QACzF,0DAA0D;QAC1D,uCAAuC;QACvC,iBAAiB;QACjB,4CAA4C;QAC5C,kDAAkD;QAClD,UAAU;QACV,SAAS;QACT,yDAAyD;QACzD,IAAI;QACJ,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;YAC5C,MAAM,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAa,CAAA;YACnC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,SAAS;gBAAE,SAAQ,CAAC,uBAAuB;YAC5E,MAAM,SAAS,GAAG,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAA;YACjD,IAAI,CAAC,aAAa,GAAG,SAAS,CAAA;YAC9B,IACE,SAAS,IAAI,IAAI,CAAC,YAAY;gBAC9B,IAAI,CAAC,IAAI,CAAC,2BAA2B,EAAE,EACvC;gBACA,IAAI,GAAG,GAAG,CAAC,CAAA;gBACX,IAAI,EAAE,GAAG,SAAS,CAAC,MAAM,CAAA;gBACzB,OAAO,GAAG,GAAG,EAAE,EAAE;oBACf,MAAM,MAAM,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,CAAA;oBAC9B,MAAM,IAAI,GAAI,SAAS,CAAC,MAAM,CAAC,EAAE,aAAwB,GAAG,SAAS,CAAA;oBACrE,IAAI,IAAI,GAAG,CAAC;wBAAE,EAAE,GAAG,MAAM,CAAA;yBACpB,IAAI,IAAI,GAAG,CAAC;wBAAE,GAAG,GAAG,MAAM,GAAG,CAAC,CAAA;yBAC9B;wBACH,GAAG,GAAG,MAAM,CAAA;wBACZ,MAAK;qBACN;iBACF;gBACD,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,CAAA;aAC/B;SACF;IACH,CAAC;IAEO,qBAAqB,CAC3B,KAAc,EACd,WAAW,GAAG,yBAAyB;QAEvC,YAAY;QACZ,MAAM,MAAM,GAA8B,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;QACjE,IAAI,aAAa,GAAG,CAAC,CAAA;QAErB,oFAAoF;QACpF,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;YAC1C,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAU,CAAA;YAC9B,MAAM,CAAC,CAAC,CAAC,GAAG,SAAS,CAAA,CAAC,2CAA2C;YACjE,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAA;YACpD,IAAI,KAAK,EAAE;gBACT,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE;oBAC3C,IAAI,KAAK,CAAC,eAAe,KAAK,CAAC,EAAE;wBAC/B,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAA;wBACvC,SAAQ;qBACT;oBACD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAA;iBACjC;gBACD,IAAI,KAAK,CAAC,gBAAgB,KAAK,SAAS,EAAE;oBACxC,MAAM,YAAY,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;oBACtE,IACE,uBAAuB,CAAC,KAAK,CAAC,SAAS,EAAE,YAAY,EAAE,WAAW,CAAC,EACnE;wBACA,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,CAAA;wBACjB,KAAK,CAAC,gBAAgB,GAAG,CAAC,CAAA;wBAC1B,eAAe;wBACf,oBAAoB;wBACpB,mBAAmB;wBACnB,gFAAgF;wBAChF,IAAI;qBACL;iBACF;aACF;iBAAM,IAAI,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;gBACxD,gCAAgC;gBAChC,EAAE,aAAa,CAAA;aAChB;SACF;QAED,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;YAC1C,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,SAAS;gBAAE,SAAQ,CAAC,wBAAwB;YAE9D,4BAA4B;YAC5B,IAAI,iBAAiB,GAA0B,SAAS,CAAA;YACxD,KACE,IAAI,KAAK,GAA0B,MAAM,CAAC,CAAC,CAAC,EAC5C,KAAK,KAAK,SAAS,EACnB,KAAK,GAAG,KAAK,CAAC,MAAM,EACpB;gBACA,IAAI,KAAK,EAAE,gBAAgB,KAAK,SAAS;oBAAE,iBAAiB,GAAG,KAAK,CAAA;aACrE;YAED,8DAA8D;YAC9D,IAAI,iBAAiB,EAAE;gBACrB,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAA;gBAC/D,aAAa,IAAI,iBAAiB,CAAC,eAAe,GAAG,CAAC,CAAA;aACvD;SACF;QAED,OAAO,aAAa,CAAA;IACtB,CAAC;IAED,6DAA6D;IACrD,qBAAqB,CAC3B,KAAgB,EAChB,kBAA0B,EAC1B,KAAc,EACd,MAAiC;QAEjC,MAAM,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAA;QACxC,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,0CAA0C;YAC1C,MAAM,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC,EAAE,0BAA0B,CAC/D,CAAC,KAAK,CAAC,SAAS,CACP,CAAA;YACX,kBAAkB,GAAG,CAAC,kBAAkB,GAAG,KAAK,CAAC,SAAS,CAAC,GAAG,YAAY,CAAA;YAC1E,MAAM,CAAC,SAAS,CAAC,GAAG,SAAS,CAAA;YAC7B,aAAa;YACb,KAAK,CAAC,gBAAgB,GAAG,SAAS,CAAA;YAClC,KAAK,CAAC,SAAS,GAAG,YAAY,CAAA;SAC/B;QAED,eAAe;QACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,kBAAkB,CAAA;QAEhD,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;YACjD,IAAI,CAAC,qBAAqB,CACxB,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAc,EAC9B,kBAAkB,EAClB,KAAK,EACL,MAAM,CACP,CAAA;IACL,CAAC;IAEO,oBAAoB,CAAC,IAAW,EAAE,SAAoB;QAC5D,IAAI,KAAK,CAAA;QACT,IAAI,OAAO,CAAA;QACX,IAAI,SAAS,CAAC,SAAS,EAAE;YACvB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAA;YACnB,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAA;SACrC;aAAM;YACL,KAAK,GAAG,IAAI,CAAC,MAAM,CAAA;YACnB,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAA;SACrC;QACD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAW,CAAA;QAClD,MAAM,SAAS,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAA;QAC1D,SAAS,CAAC,aAAa,GAAG,SAAS,CAAA;QACnC,MAAM,aAAa,GAAG,8CAA8C;YAClE,CAAC,CAAC,CAAC;YACH,CAAC,CAAC,sBAAsB,CAAA;QAC1B,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,GAAG,aAAa,EAAE;YACjD,eAAe;YACf,qDAAqD;YACrD,0BAA0B;YAC1B,4CAA4C;YAC5C,4BAA4B;YAC5B,2EAA2E;YAC3E,IAAI;YACJ,OAAO,KAAK,CAAA;SACb;QACD,OAAO,IAAI,CAAA;IACb,CAAC;IAEO,oBAAoB,CAAC,IAAW;QACtC,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;QAC/C,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;QAC/C,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,IAAI,MAAM,KAAK,SAAS;gBAAE,OAAM,CAAC,2BAA2B;YAC5D,MAAM,SAAS,GACb,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAA;YAC/D,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY;gBAAE,OAAM,CAAC,gCAAgC;YAC1E,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,CAAC,CAAA;SACxD;aAAM;YACL,IAAI,MAAM,KAAK,SAAS;gBAAE,OAAM,CAAC,yBAAyB;YAC1D,MAAM,SAAS,GACb,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAA;YAC/D,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY;gBAAE,OAAM,CAAC,gCAAgC;YAC1E,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,CAAC,CAAA;SACzD;IACH,CAAC;IAEO,YAAY,CAClB,IAAW,EACX,SAAkB,EAClB,SAAiB,EACjB,SAAiB;QAEjB,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,SAAS;YACpC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC;YAC5B,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;QAC9B,MAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CACrC,SAAS,CAAC,OAAkB,CAChB,CAAA;QACd,MAAM,SAAS,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,SAAS,CAAC,CAAA;QAC7D,MAAM,WAAW,GAAc,IAAI,SAAS,CAC1C,OAAO,EACP,SAAS,EACT,SAAS,EACT,aAAa,EACb,IAAI,CAAC,OAAO,EACZ,SAAS,CACV,CAAA;QACD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,WAAW,CAAC,CAAA;QACnD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,OAAkB,EAAE,WAAW,CAAC,CAAA;QAC1D,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAkB,CAAC;YACrC,CAAC,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,GAAG,SAAS,GAAG,WAAW,CAAC,MAAM,CAAA;QACrE,EAAE,IAAI,CAAC,UAAU,CAAA;QACjB,eAAe;QACf,mBAAmB;QACnB,mBAAmB;QACnB,6EAA6E;QAC7E,IAAI;QACJ,OAAO,WAAW,CAAA;IACpB,CAAC;IAEO,qBAAqB,CAAC,IAAW,EAAE,KAAgB;QACzD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAA;QACzC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;QACnC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;QACjC,EAAE,IAAI,CAAC,UAAU,CAAA;QACjB,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAA;QACnD,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,IAAI,CAAC;YACnC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;QACzC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAA;IAC1B,CAAC;CACF;AA5cD,8CA4cC;AAED,SAAS,aAAa,CACpB,MAAc,EACd,OAA+B,EAC/B,aAAqB,EACrB,OAA+B,EAC/B,SAAS,GAAG,KAAK;IAEjB,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;IACpC,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,aAAa,EAAE,MAAM,EAAE,yBAAyB,CAAC,CAAA;IAC5E,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;QACpB,MAAM,MAAM,GAAG,OAAO,EAAE,CAAC,CAAC,CAAW,CAAA;QACrC,MAAM,MAAM,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC,CAAA;QAC3B,IACE,MAAM,KAAK,SAAS;YACpB,CAAC,MAAM,KAAK,CAAC,IAAI,MAAM,KAAK,CAAC,CAAC;YAC9B,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,SAAS;YAEzC,OAAO,CAAC,KAAK,CACX,GAAG,MAAM,WAAW,CAAC,kBAAkB,MAAM,OAAO,MAAM,EAAE,CAC7D,CAAA;IACL,CAAC,CAAC,CAAA;IACF,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;QACjC,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE;YAC5B,OAAO,CAAC,KAAK,CACX,GAAG,MAAM,WAAW,CAAC,kBAAkB,OAAO,CAAC,CAAC,CAAC,OAAO,OAAO,CAAC,CAAC,CAAC,EAAE,CACrE,CAAA;SACF;IACH,CAAC,CAAC,CAAA;AACJ,CAAC;AAED,SAAgB,mBAAmB,CACjC,MAAc,EACd,OAA+B,EAC/B,OAA+B,EAC/B,SAAS,GAAG,KAAK;IAEjB,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;IACpC,IAAI,QAAQ,GAAG,CAAC,CAAA;IAChB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;QACpB,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,SAAS;YAAE,OAAM;QACpC,EAAE,QAAQ,CAAA;QACV,MAAM,MAAM,GAAG,OAAO,EAAE,CAAC,CAAC,CAAW,CAAA;QACrC,MAAM,MAAM,GAAG,OAAO,EAAE,CAAC,CAAC,CAAW,CAAA;QACrC,IACE,CAAC,MAAM,KAAK,CAAC,IAAI,MAAM,KAAK,CAAC,CAAC;YAC9B,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,SAAS;YAEzC,OAAO,CAAC,KAAK,CACX,GAAG,MAAM,WAAW,CAAC,kBAAkB,MAAM,OAAO,MAAM,EAAE,CAC7D,CAAA;IACL,CAAC,CAAC,CAAA;IACF,OAAO,QAAQ,CAAA;AACjB,CAAC;AAtBD,kDAsBC;AAED,SAAS,UAAU,CAAI,EAAK,EAAE,EAAK,EAAE,GAAG,MAAgB;IACtD,IAAI,EAAE,KAAK,EAAE;QAAE,OAAO,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAA;AACtE,CAAC;AAED,SAAS,aAAa,CAAI,EAAK,EAAE,EAAK,EAAE,GAAG,MAAgB;IACzD,IAAI,EAAE,KAAK,EAAE;QAAE,OAAO,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAA;AACtE,CAAC"}